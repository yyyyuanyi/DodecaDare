<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>12é¢äº’åŠ¨éª°å­æ¸¸æˆ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Arial Rounded MT Bold', 'Microsoft YaHei', sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
            color: white;
        }
        
        .container {
            max-width: 800px;
            width: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            border-radius: 20px;
            box-shadow: 0 15px 30px rgba(0, 0, 0, 0.5);
            overflow: hidden;
            padding: 30px;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
            text-shadow: 0 3px 6px rgba(0, 0, 0, 0.4);
            color: #FFD700;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 20px;
        }
        
        .game-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 30px;
        }
        
        .dice-container {
            width: 250px;
            height: 250px;
            position: relative;
            perspective: 1000px;
            margin: 20px auto;
        }
        
        .dice {
            width: 100%;
            height: 100%;
            position: relative;
            transform-style: preserve-3d;
            transform: rotateX(20deg) rotateY(20deg);
            transition: transform 2s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        
        .dice-face {
            position: absolute;
            width: 120px;
            height: 120px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            border-radius: 15px;
            font-weight: bold;
            text-align: center;
            padding: 10px;
            font-size: 0.9rem;
            box-shadow: inset 0 0 20px rgba(255, 255, 255, 0.1);
            border: 3px solid rgba(255, 255, 255, 0.2);
            transform-style: preserve-3d;
            backface-visibility: visible;
        }
        
        /* 12é¢éª°å­3Då¸ƒå±€ - ä¿®æ­£åçš„æ­£åäºŒé¢ä½“ */
        /* æ¯ä¸ªé¢éƒ½æ˜¯ä¸€ä¸ªæ­£äº”è¾¹å½¢ï¼Œéœ€è¦ç²¾ç¡®çš„è§’åº¦è®¡ç®— */
        .face-1 { 
            background-color: #FF6B6B; 
            transform: translateZ(60px);
        }
        .face-2 { 
            background-color: #4ECDC4; 
            transform: rotateY(180deg) translateZ(60px);
        }
        .face-3 { 
            background-color: #FFD166; 
            transform: rotateY(90deg) translateZ(60px);
        }
        .face-4 { 
            background-color: #06D6A0; 
            transform: rotateY(-90deg) translateZ(60px);
        }
        .face-5 { 
            background-color: #118AB2; 
            transform: rotateX(90deg) translateZ(60px);
        }
        .face-6 { 
            background-color: #EF476F; 
            transform: rotateX(-90deg) translateZ(60px);
        }
        .face-7 { 
            background-color: #7B2CBF; 
            transform: rotateY(60deg) rotateX(54.74deg) translateZ(60px);
        }
        .face-8 { 
            background-color: #F15BB5; 
            transform: rotateY(-60deg) rotateX(54.74deg) translateZ(60px);
        }
        .face-9 { 
            background-color: #9B5DE5; 
            transform: rotateY(60deg) rotateX(-54.74deg) translateZ(60px);
        }
        .face-10 { 
            background-color: #00BBF9; 
            transform: rotateY(-60deg) rotateX(-54.74deg) translateZ(60px);
        }
        .face-11 { 
            background-color: #00F5D4; 
            transform: rotateY(180deg) rotateX(54.74deg) translateZ(60px);
        }
        .face-12 { 
            background-color: #FF9E00; 
            transform: rotateY(180deg) rotateX(-54.74deg) translateZ(60px);
        }
        
        .dice-icon {
            font-size: 2.5rem;
            margin-bottom: 5px;
        }
        
        .controls {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            width: 100%;
        }
        
        .roll-btn {
            background: linear-gradient(135deg, #FF9A00 0%, #FF0058 100%);
            color: white;
            border: none;
            padding: 18px 45px;
            font-size: 1.5rem;
            font-weight: bold;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 8px 20px rgba(255, 0, 88, 0.4);
        }
        
        .roll-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 12px 25px rgba(255, 0, 88, 0.5);
        }
        
        .roll-btn:active {
            transform: translateY(0);
        }
        
        .roll-btn:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none !important;
        }
        
        .result-container {
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            width: 100%;
            min-height: 180px;
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            margin-top: 20px;
            transition: all 0.5s;
        }
        
        .result-title {
            font-size: 1.8rem;
            color: #FFD700;
            margin-bottom: 15px;
        }
        
        .result-description {
            font-size: 1.4rem;
            line-height: 1.5;
            text-align: center;
        }
        
        .result-icon {
            font-size: 3rem;
            margin-bottom: 15px;
        }
        
        .player-list {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }
        
        .player {
            background-color: rgba(255, 255, 255, 0.1);
            padding: 10px 20px;
            border-radius: 30px;
            font-size: 1.1rem;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .player.active {
            background-color: #FFD700;
            color: #333;
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(255, 215, 0, 0.4);
        }
        
        .instructions {
            background-color: rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 20px;
            margin-top: 30px;
        }
        
        .instructions h3 {
            color: #FFD700;
            margin-bottom: 15px;
            font-size: 1.5rem;
        }
        
        .instructions ul {
            padding-left: 20px;
            line-height: 1.6;
        }
        
        .instructions li {
            margin-bottom: 8px;
        }
        
        .hidden {
            display: none;
        }
        
        .player-controls {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            justify-content: center;
        }
        
        .player-controls button {
            padding: 8px 16px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .add-player {
            background-color: #06D6A0;
            color: white;
        }
        
        .remove-player {
            background-color: #EF476F;
            color: white;
        }
        
        .player-controls button:hover {
            opacity: 0.9;
            transform: scale(1.05);
        }
        
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }
            
            h1 {
                font-size: 2.2rem;
            }
            
            .dice-container {
                width: 200px;
                height: 200px;
            }
            
            .dice-face {
                width: 100px;
                height: 100px;
                font-size: 0.8rem;
                padding: 8px;
            }
            
            .dice-icon {
                font-size: 2rem;
            }
            
            .roll-btn {
                padding: 15px 35px;
                font-size: 1.3rem;
            }
            
            .result-description {
                font-size: 1.2rem;
            }
        }
    </style>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-dice"></i> 12é¢äº’åŠ¨éª°å­</h1>
            <p class="subtitle">èšä¼šå¿…å¤‡ï¼ç‚¹å‡»æ·éª°å­å¼€å§‹æ¸¸æˆ</p>
        </header>
        
        <div class="game-area">
            <div class="dice-container">
                <div class="dice" id="dice">
                    <!-- éª°å­12ä¸ªé¢ -->
                    <div class="dice-face face-1">
                        <div class="dice-icon">ğŸ‘¥</div>
                        <div>æ‰€æœ‰äººå–ä¸€æ¯</div>
                    </div>
                    <div class="dice-face face-2">
                        <div class="dice-icon">ğŸ™‹</div>
                        <div>è‡ªå·±å–ä¸€æ¯</div>
                    </div>
                    <div class="dice-face face-3">
                        <div class="dice-icon">ğŸ™‹</div>
                        <div>è‡ªå·±å–åŠæ¯</div>
                    </div>
                    <div class="dice-face face-4">
                        <div class="dice-icon">ğŸ‘‰</div>
                        <div>æŒ‡å®šä¸€äººå–åŠæ¯</div>
                    </div>
                    <div class="dice-face face-5">
                        <div class="dice-icon">ğŸ‘‰</div>
                        <div>æŒ‡å®šä¸€äººå–ä¸€æ¯</div>
                    </div>
                    <div class="dice-face face-6">
                        <div class="dice-icon">ğŸ’</div>
                        <div>äº¤æ¯é…’æŒ‘æˆ˜</div>
                    </div>
                    <div class="dice-face face-7">
                        <div class="dice-icon">ğŸ­</div>
                        <div>å¤§å†’é™©æ—¶åˆ»</div>
                    </div>
                    <div class="dice-face face-8">
                        <div class="dice-icon">ğŸ’–</div>
                        <div>çœŸå¿ƒè¯æ—¶é—´</div>
                    </div>
                    <div class="dice-face face-9">
                        <div class="dice-icon">ğŸŠ</div>
                        <div>ç¥ç¦æ¥åŠ›</div>
                    </div>
                    <div class="dice-face face-10">
                        <div class="dice-icon">ğŸ˜˜</div>
                        <div>å…¨åœºé£å»</div>
                    </div>
                    <div class="dice-face face-11">
                        <div class="dice-icon">ğŸ“±</div>
                        <div>æŠ–éŸ³å¼‚æ€§æŒ‘æˆ˜</div>
                    </div>
                    <div class="dice-face face-12">
                        <div class="dice-icon">ğŸ¤</div>
                        <div>å³å…´æ¼”å”±</div>
                    </div>
                </div>
            </div>
            
            <div class="controls">
                <button class="roll-btn" id="rollBtn">
                    <i class="fas fa-redo-alt"></i> æ·éª°å­
                </button>
                
                <div class="result-container" id="resultContainer">
                    <div class="result-icon" id="resultIcon">ğŸ²</div>
                    <div class="result-title" id="resultTitle">ç­‰å¾…æ·éª°å­...</div>
                    <div class="result-description" id="resultDescription">ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®æ·éª°å­å¼€å§‹æ¸¸æˆ</div>
                </div>
                
                <div class="player-list" id="playerList">
                    <!-- ç©å®¶åˆ—è¡¨ä¼šé€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
                </div>
                
                <div class="player-controls">
                    <button class="add-player" id="addPlayerBtn">
                        <i class="fas fa-plus"></i> æ·»åŠ ç©å®¶
                    </button>
                    <button class="remove-player" id="removePlayerBtn">
                        <i class="fas fa-minus"></i> ç§»é™¤ç©å®¶
                    </button>
                </div>
            </div>
        </div>
        
        <div class="instructions">
            <h3><i class="fas fa-info-circle"></i> æ¸¸æˆè¯´æ˜</h3>
            <ul>
                <li>æ¯äººè½®æµç‚¹å‡»"æ·éª°å­"æŒ‰é’®</li>
                <li>æ ¹æ®éª°å­ç»“æœæ‰§è¡Œç›¸åº”æŒ‡ä»¤</li>
                <li>æ¸¸æˆæ”¯æŒ2-8äººå‚ä¸</li>
                <li>å¯ä»¥è‡ªå®šä¹‰ç©å®¶å§“åï¼ˆåŒå‡»ç©å®¶åå­—ä¿®æ”¹ï¼‰</li>
                <li>å–é…’è¯·é‡åŠ›è€Œè¡Œï¼Œå¯ä»¥é¥®æ–™ä»£æ›¿</li>
            </ul>
        </div>
    </div>

    <script>
        // æ¸¸æˆæ•°æ®
        const gameData = {
            currentPlayer: 0,
            players: ["ç©å®¶1", "ç©å®¶2", "ç©å®¶3", "ç©å®¶4"],
            isRolling: false,
            
            // éª°å­é¢è¯¦ç»†ä¿¡æ¯
            faces: [
                { 
                    icon: "ğŸ‘¥", 
                    title: "æ‰€æœ‰äººå–ä¸€æ¯", 
                    description: "å…¨åœºä¸€èµ·å¹²æ¯ï¼å‹è°Šä¸‡å²ï¼",
                    color: "#FF6B6B"
                },
                { 
                    icon: "ğŸ™‹", 
                    title: "è‡ªå·±å–ä¸€æ¯", 
                    description: "è‡ªç½šä¸€æ¯ï¼Œå…»é±¼å¯ä¸è¡Œå“¦ï¼",
                    color: "#4ECDC4"
                },
                { 
                    icon: "ğŸ™‹", 
                    title: "è‡ªå·±å–åŠæ¯", 
                    description: "æµ…å°ä¸€ä¸‹ï¼Œä¸è¦å¤ªæ€¥å“¦ï¼",
                    color: "#FFD166"
                },
                { 
                    icon: "ğŸ‘‰", 
                    title: "æŒ‡å®šä¸€äººå–åŠæ¯", 
                    description: "é€‰ä¸€ä½æœ‹å‹å°é…ŒåŠæ¯å§ï¼",
                    color: "#06D6A0"
                },
                { 
                    icon: "ğŸ‘‰", 
                    title: "æŒ‡å®šä¸€äººå–ä¸€æ¯", 
                    description: "é€‰ä¸€ä½æœ‹å‹é™ªä½ å¹²ä¸€æ¯ï¼",
                    color: "#118AB2"
                },
                { 
                    icon: "ğŸ’", 
                    title: "äº¤æ¯é…’æŒ‘æˆ˜", 
                    description: "é€‰ä¸€ä½æœ‹å‹ï¼Œä¸€èµ·å–äº¤æ¯é…’ï¼",
                    color: "#EF476F"
                },
                { 
                    icon: "ğŸ­", 
                    title: "å¤§å†’é™©æ—¶åˆ»", 
                    description: "",
                    color: "#7B2CBF"
                },
                { 
                    icon: "ğŸ’–", 
                    title: "çœŸå¿ƒè¯æ—¶é—´", 
                    description: "",
                    color: "#F15BB5"
                },
                { 
                    icon: "ğŸŠ", 
                    title: "ç¥ç¦æ¥åŠ›", 
                    description: "",
                    color: "#9B5DE5"
                },
                { 
                    icon: "ğŸ˜˜", 
                    title: "å…¨åœºé£å»", 
                    description: "å‘å…¨åœºæ‰€æœ‰äººé€å‡ºé£å»ï¼Œä¸€ä¸ªéƒ½ä¸èƒ½å°‘ï¼",
                    color: "#00BBF9"
                },
                { 
                    icon: "ğŸ“±", 
                    title: "æŠ–éŸ³å¼‚æ€§æŒ‘æˆ˜", 
                    description: "æ‰“å¼€æŠ–éŸ³ï¼Œå‰äº”ä¸ªè§†é¢‘å‡ ä¸ªå¼‚æ€§å–å‡ æ¯",
                    color: "#00F5D4"
                },
                { 
                    icon: "ğŸ¤", 
                    title: "å³å…´æ¼”å”±", 
                    description: "",
                    color: "#FF9E00"
                }
            ],
            
            // å¤§å†’é™©å†…å®¹åº“
            dares: [
                "å¯¹å‰ä»»å‘æˆ‘æƒ³ä½ äº†",
                "ç”µæ¢¯é‡Œæ¨¡ä»¿â€˜ä½ ä»¬ä¸ºä»€ä¹ˆéƒ½çœ‹ä¸ä¸Šæˆ‘â€™é‚£ä¸€æ®µ",
                "ç»™é€šè®¯å½•é‡Œç¬¬10ä¸ªäººæ‰“ç”µè¯è¯´'æˆ‘çˆ±ä½ '",
                "æ¨¡ä»¿é«˜é›…äººå£«è·³èˆ",
                "éšæœºæ‰¾ä¸€ä¸ªäººåæŒ‡ç›¸æ‰£æœ—è¯µéª†å®¾ç‹çš„ã€Šé¹…ã€‹",
                "ç”¨è‡ªå·±çš„æ–¹è¨€æœ—è¯µä¸€æ®µæ­Œè¯",
                "å¯¹ä¸‹ä¸€ä½ç©å®¶è¯´ä¸€åˆ†é’Ÿæƒ…è¯",
                "åœ¨å•æ‰€å†™å…¨å›½å¯é£+ç­ä¸»ä»»æ‰‹æœºå·",
                "æŠŠæ‰€æœ‰å‰ä»»æ‹‰åˆ°ä¸€ä¸ªç¾¤é‡Œ",
                "æŠ“é™Œç”Ÿäººæ‰‹å–Šâ€˜ä»Šå¹´æˆ‘æ²¡å¥”ä¸Šå°åº·æ‹–ä½ åè…¿äº†â€™"
            ],
            
            // çœŸå¿ƒè¯å†…å®¹åº“
            truths: [
                "ä½ æ›¾ç»æš—æ‹è¿‡è°ï¼Ÿä»€ä¹ˆæ—¶å€™ï¼Ÿ",
                "ä½ åšè¿‡æœ€å°´å°¬çš„ä¸€ä»¶äº‹æ˜¯ä»€ä¹ˆï¼Ÿ",
                "ä½ æœ€å¤§çš„ç§˜å¯†æ˜¯ä»€ä¹ˆï¼Ÿ",
                "ä½ æ›¾ç»æ’’è¿‡çš„æœ€ç¦»è°±çš„è°æ˜¯ä»€ä¹ˆï¼Ÿ",
                "å¦‚æœä½ å¯ä»¥æ”¹å˜è‡ªå·±çš„ä¸€ä»¶äº‹ï¼Œä¼šæ˜¯ä»€ä¹ˆï¼Ÿ",
                "ä½ ç†æƒ³ä¸­çš„å¦ä¸€åŠæ˜¯ä»€ä¹ˆæ ·å­ï¼Ÿ",
                "ä½ åšè¿‡æœ€åæ‚”çš„ä¸€ä»¶äº‹æ˜¯ä»€ä¹ˆï¼Ÿ",
                "ä½ æœ€æƒ³æ‹¥æœ‰çš„è¶…èƒ½åŠ›æ˜¯ä»€ä¹ˆï¼Ÿ",
                "ä½ æœ€å®³æ€•çš„äº‹æƒ…æ˜¯ä»€ä¹ˆï¼Ÿ",
                "å¦‚æœå†è§åˆ°å‰ä»»æœ€æƒ³å¯¹ä»–ï¼ˆå¥¹ï¼‰è¯´ä»€ä¹ˆï¼Ÿ"
            ],
            
            // ç¥ç¦è¯­å†…å®¹åº“
            blessings: [
                "ç¥å¤§å®¶èº«ä½“å¥åº·ï¼Œä¸‡äº‹å¦‚æ„ï¼",
                "æ„¿å‹è°Šé•¿å­˜ï¼Œé’æ˜¥ä¸è€ï¼",
                "ç¥åœ¨åº§å„ä½è´¢æºæ»šæ»šï¼Œå¿ƒæƒ³äº‹æˆï¼",
                "æ„¿æ‰€æœ‰çš„ç¾å¥½éƒ½å¦‚æœŸè€Œè‡³ï¼",
                "ç¥å¤§å®¶ç¬‘å£å¸¸å¼€ï¼Œå¥½è¿è¿è¿ï¼",
                "æ„¿æˆ‘ä»¬å‹è°Šçš„å°èˆ¹å‡çº§ä¸ºå·¨è½®ï¼",
                "ç¥å¤§å®¶æ—©æ—¥è„±å•ï¼Œå¹¸ç¦ç¾æ»¡ï¼",
                "æ„¿æˆ‘ä»¬æ¯æ¬¡ç›¸èšéƒ½å¦‚æ­¤å¼€å¿ƒï¼",
                "ç¥å¤§å®¶äº‹ä¸šæœ‰æˆï¼Œæ­¥æ­¥é«˜å‡ï¼",
                "æ„¿å¿«ä¹æ°¸è¿œä¼´éšæˆ‘ä»¬å·¦å³ï¼"
            ],
            
            // æ­Œæ›²å†…å®¹åº“
            songs: [
                "ã€Šæœ‹å‹ã€‹â€”â€”å‘¨åå¥",
                "ã€Šå°å¹¸è¿ã€‹â€”â€”ç”°é¦¥ç”„",
                "ã€Šå‘Šç™½æ°”çƒã€‹â€”â€”å‘¨æ°ä¼¦",
                "ã€Šåæ¥ã€‹â€”â€”åˆ˜è‹¥è‹±",
                "ã€Šçªç„¶å¥½æƒ³ä½ ã€‹â€”â€”äº”æœˆå¤©",
                "ã€Šæˆéƒ½ã€‹â€”â€”èµµé›·",
                "ã€Šæ³¡æ²«ã€‹â€”â€”é‚“ç´«æ£‹",
                "ã€Šå‹‡æ°”ã€‹â€”â€”æ¢é™èŒ¹",
                "ã€Šæ¼”å‘˜ã€‹â€”â€”è–›ä¹‹è°¦",
                "ã€Šé’æ˜¥ä¿®ç‚¼æ‰‹å†Œã€‹â€”â€”TFBOYS"
            ]
        };

        // è·å–éšæœºå¤§å†’é™©
        function getRandomDare() {
            const randomIndex = Math.floor(Math.random() * gameData.dares.length);
            return `å¤§å†’é™©ï¼š${gameData.dares[randomIndex]}`;
        }
        
        // è·å–éšæœºçœŸå¿ƒè¯
        function getRandomTruth() {
            const randomIndex = Math.floor(Math.random() * gameData.truths.length);
            return `çœŸå¿ƒè¯ï¼š${gameData.truths[randomIndex]}`;
        }
        
        // è·å–éšæœºç¥ç¦è¯­
        function getRandomBlessing() {
            const randomIndex = Math.floor(Math.random() * gameData.blessings.length);
            return `ç¥ç¦è¯­ï¼š${gameData.blessings[randomIndex]}`;
        }
        
        // è·å–éšæœºæ­Œæ›²
        function getRandomSong() {
            const randomIndex = Math.floor(Math.random() * gameData.songs.length);
            return `æ¼”å”±æ­Œæ›²ï¼š${gameData.songs[randomIndex]}`;
        }

        // DOMå…ƒç´ 
        const dice = document.getElementById('dice');
        const rollBtn = document.getElementById('rollBtn');
        const resultContainer = document.getElementById('resultContainer');
        const resultIcon = document.getElementById('resultIcon');
        const resultTitle = document.getElementById('resultTitle');
        const resultDescription = document.getElementById('resultDescription');
        const playerList = document.getElementById('playerList');
        const addPlayerBtn = document.getElementById('addPlayerBtn');
        const removePlayerBtn = document.getElementById('removePlayerBtn');

        // åˆå§‹åŒ–ç©å®¶åˆ—è¡¨
        function initPlayers() {
            playerList.innerHTML = '';
            gameData.players.forEach((player, index) => {
                const playerElement = document.createElement('div');
                playerElement.className = `player ${index === gameData.currentPlayer ? 'active' : ''}`;
                playerElement.textContent = player;
                playerElement.dataset.index = index;
                
                // åŒå‡»ä¿®æ”¹ç©å®¶åå­—
                playerElement.addEventListener('dblclick', function() {
                    const newName = prompt('è¯·è¾“å…¥æ–°åå­—ï¼š', player);
                    if (newName && newName.trim() !== '') {
                        gameData.players[index] = newName.trim();
                        playerElement.textContent = newName.trim();
                    }
                });
                
                playerList.appendChild(playerElement);
            });
        }

        // éª°å­æ—‹è½¬åŠ¨ç”»
        function rollDice() {
            if (gameData.isRolling) return;
            
            gameData.isRolling = true;
            rollBtn.disabled = true;
            
            // éšæœºç»“æœï¼ˆ1-12ï¼‰
            const result = Math.floor(Math.random() * 12) + 1;
            
            // éª°å­æ—‹è½¬åŠ¨ç”»
            const randomX = Math.floor(Math.random() * 720) + 360; // 360-1080åº¦
            const randomY = Math.floor(Math.random() * 720) + 360;
            const randomZ = Math.floor(Math.random() * 360);
            
            dice.style.transform = `rotateX(${randomX}deg) rotateY(${randomY}deg) rotateZ(${randomZ}deg)`;
            
            // ç­‰å¾…åŠ¨ç”»å®Œæˆåæ˜¾ç¤ºç»“æœ
            setTimeout(() => {
                showResult(result);
                gameData.isRolling = false;
                rollBtn.disabled = false;
                
                // åˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªç©å®¶
                gameData.currentPlayer = (gameData.currentPlayer + 1) % gameData.players.length;
                initPlayers();
                
                // éšæœºæ›´æ–°å¤§å†’é™©ã€çœŸå¿ƒè¯ç­‰å†…å®¹
                gameData.faces[6].description = getRandomDare();
                gameData.faces[7].description = getRandomTruth();
                gameData.faces[8].description = getRandomBlessing();
                gameData.faces[11].description = getRandomSong();
                
            }, 2000);
        }

        // æ˜¾ç¤ºç»“æœ
        function showResult(faceNumber) {
            const face = gameData.faces[faceNumber - 1];
            
            resultIcon.textContent = face.icon;
            resultTitle.textContent = `${face.title}`;
            resultDescription.textContent = `${gameData.players[gameData.currentPlayer]} ${face.description}`;
            
            // æ›´æ–°ç»“æœå®¹å™¨èƒŒæ™¯è‰²
            resultContainer.style.backgroundColor = `${face.color}40`; // æ·»åŠ é€æ˜åº¦
            resultContainer.style.border = `3px solid ${face.color}`;
            
            // æ·»åŠ ä¸€äº›åŠ¨ç”»æ•ˆæœ
            resultContainer.style.transform = 'scale(1.05)';
            setTimeout(() => {
                resultContainer.style.transform = 'scale(1)';
            }, 300);
        }

        // æ·»åŠ ç©å®¶
        function addPlayer() {
            if (gameData.players.length < 8) {
                const playerName = prompt('è¯·è¾“å…¥æ–°ç©å®¶åå­—ï¼š', `ç©å®¶${gameData.players.length + 1}`);
                if (playerName && playerName.trim() !== '') {
                    gameData.players.push(playerName.trim());
                    initPlayers();
                }
            } else {
                alert('æœ€å¤šåªèƒ½æœ‰8ä½ç©å®¶å“¦ï¼');
            }
        }

        // ç§»é™¤ç©å®¶
        function removePlayer() {
            if (gameData.players.length > 2) {
                gameData.players.pop();
                if (gameData.currentPlayer >= gameData.players.length) {
                    gameData.currentPlayer = 0;
                }
                initPlayers();
            } else {
                alert('è‡³å°‘éœ€è¦2ä½ç©å®¶æ‰èƒ½æ¸¸æˆå“¦ï¼');
            }
        }

        // åˆå§‹åŒ–
        function init() {
            // åˆå§‹åŒ–ç©å®¶åˆ—è¡¨
            initPlayers();
            
            // åˆå§‹åŒ–å¤§å†’é™©ã€çœŸå¿ƒè¯ç­‰å†…å®¹
            gameData.faces[6].description = getRandomDare();
            gameData.faces[7].description = getRandomTruth();
            gameData.faces[8].description = getRandomBlessing();
            gameData.faces[11].description = getRandomSong();
            
            // ç»‘å®šæ·éª°å­æŒ‰é’®äº‹ä»¶
            rollBtn.addEventListener('click', rollDice);
            
            // ç»‘å®šæ·»åŠ /ç§»é™¤ç©å®¶æŒ‰é’®äº‹ä»¶
            addPlayerBtn.addEventListener('click', addPlayer);
            removePlayerBtn.addEventListener('click', removePlayer);
            
            // åˆå§‹æ˜¾ç¤ºç»“æœ
            showResult(1);
            
            // æ·»åŠ é”®ç›˜æ”¯æŒ
            document.addEventListener('keydown', function(event) {
                if (event.code === 'Space' && !gameData.isRolling) {
                    event.preventDefault();
                    rollDice();
                }
            });
        }

        // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>